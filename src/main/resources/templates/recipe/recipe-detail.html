<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title th:text="${recipe.title}"></title>
    <link rel="stylesheet" href="/styles/qa/style.css" />
    <script src="/js/qa/main.js"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <script
      src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"
      defer
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.min.js"
      integrity="sha512-efUTj3HdSPwWJ9gjfGR71X9cvsrthIA78/Fvd/IN+fttQVy7XWkOAXb295j8B3cmm/kFKVxjiNYzKw9IQJHIuQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      defer
    ></script>
  </head>
  <body style="background-color: #f5f5f5">
    <div class="container-fluid">
      <!-- begin header -->
      <div class="row mt-5 ms-5">
        <div class="col-md-9">
          <div class="img-header">
            <div class="icon-report">
              <i class="arow-up fas fa-caret-up"></i>
              <i class="arow-up arow-report fas fa-sort-down"></i>
              <input
                type="button"
                class="btn-report btn btn-danger"
                value="Report"
              />
            </div>
            <div class="img_detail">
              <img
                th:src="${recipe.image}"
                alt="takoyaki"
                class="img_details"
              />
              <h4 class="name_details" th:text="${recipe.title}"></h4>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="user_img">
            <img th:src="${recipe.creator.photoUrl}" class="user" alt="user" />
            <h4 class="name-user" th:text="${recipe.creator.name}"></h4>
          </div>
        </div>
      </div>
      <!-- end header -->
      <!-- begin 食材 -->
      <div
        class="container mt-5 mb-5"
        style="padding-left: 164px; padding-right: 164px"
      >
        <div class="congthuc">
          <h4 class="tilte_nguyenlieu">Here’s what you need:</h4>
          <ul
            class="list-group"
            style="font-weight: bold"
            th:each="element,iter: ${recipe.ingredients}"
          >
            <li
              class="list-group-item list_bottom step"
              style="
                border-style: none;
                border-top: 1px dashed rgb(170, 170, 170);
              "
            >
              <div
                class="step_n"
                th:text="${iter.count} + '. ' +${element.key} + ' : ' + ${element.value}"
              ></div>
            </li>
          </ul>
        </div>
      </div>
      <!-- end 食材 -->
      <!-- begin 作り方 -->
      <div
        class="container mt-5 mb-5"
        style="padding-left: 164px; padding-right: 164px"
      >
        <div class="congthuc">
          <h4 class="tilte_nguyenlieu">How to make:</h4>
          <ul class="list-group" th:each="element,iter : ${recipe.steps}">
            <li
              class="list-group-item list_bottom step"
              style="
                border-style: none;
                border-top: 1px dashed rgb(170, 170, 170);
              "
            >
              <div class="step_n">
                <span
                  style="font-weight: bold; margin-right: 5px"
                  th:text="${iter.count} + '. ' +${element}"
                ></span>
                <!-- Mix the batter up with a whisk making sure there are no floury
                bits. -->
              </div>
            </li>
          </ul>
        </div>
      </div>
      <!-- end 作り方 -->

      <!-- begin video -->
      <div
        class="nguyenlieu container"
        style="padding-left: 164px; padding-right: 164px"
      >
        <div class="congthuc">
          <h4 class="tilte_nguyenlieu">Guide video:</h4>
          <div class="video">
            <iframe class="videocongthuc" th:src="${recipe.guideVideoString}">
            </iframe>
          </div>
        </div>
      </div>
      <!-- end video -->

      <!-- begin cmt -->
      <div class="container mt-5 mb-5">
        <div class="d-flex justify-content-center row">
          <div class="d-flex flex-column col-md-8">
            <div class="coment-bottom bg-white p-2 px-4">
              <div
                sec:authorize="isAuthenticated()"
                class="d-flex flex-row add-comment-section mt-4 mb-4"
              >
                <input
                  type="text"
                  class="form-control mr-3"
                  placeholder="Add comment"
                /><button class="btn btn-primary" type="button">Comment</button>
              </div>
              <div
                sec:authorize="!isAuthenticated()"
                class="d-flex flex-row add-comment-section mt-4 mb-4"
              >
                <h2>
                  To comment this recipe
                  <span><a th:href="@{/login}">login?</a></span>
                </h2>
              </div>
              <div th:each="element: ${comments}">
                <div class="commented-section mt-2">
                  <div
                    class="d-flex flex-row align-items-ceRenter commented-user"
                  >
                    <h5 class="mr-2" th:text="${element.writerName}"></h5>
                    <span class="dot mb-1"></span
                    ><span
                      class="mb-1 ml-2"
                      th:text="${element.createdAt}"
                    ></span>
                  </div>
                  <div class="comment-text-sm">
                    <!-- <span>Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                    sed do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                    ullamco laboris nisi ut aliquip ex ea commodo
                    consequat.</span> -->
                    <span th:text="${element.content}"></span>
                  </div>
                  <div class="reply-section">
                    <div
                      class="d-flex flex-row align-items-center voting-icons"
                    >
                      <i class="fa fa-sort-up fa-2x mt-3 hit-voting"></i>
                      <span
                        class="ml-2 ms-2"
                        th:text="${element.upVoteCount}"
                      ></span>
                      <i class="fa fa-sort-down fa-2x mb-3 hit-voting"></i>
                      <span
                        class="ml-2 ms-2"
                        th:text="${element.downVoteCount}"
                      ></span>
                      <span class="dot ml-2"></span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- end cmt -->
    </div>
  </body>
</html>
